# Fluent Python 分析笔记

## 6 Object References, Mutability, and Recycling

### 这一章的大纲是什么

- 变量不是盒子
- 对象的 id、取值和别名
- 浅复制（默认）和深复制
- 引用与函数参数
- 垃圾回收与 del 命令
- Python 处理不可修改对象的技巧

### 目前为止我知道什么

- Python 不是为每个变量都单独分配内存空间的，比如取值相同的整数变量就共享同一个内存空间。
  这应该便是「变量不是盒子」想表达的意思。
- 我猜测：自定义对象默认分配不同内存空间，内建对象默认分配相同的内存空间？
- 对象的 id 是存储该对象的内存地址（类比「门牌号」），对象的取值是该对象对应的内容（类比「房子里存放的东西」）。
- 浅复制和深复制的区别：简单复制引用，不需重新分配内存空间，是浅复制；重新分配内存空间，再复制数据到新的内存空间， 是深复制。
- 引用与函数参数：如果函数参数以引用的形式传递时，函数内部对该参数的修改，在函数退出时依然生效；
  如果函数参数以数值的形式传递时，函数内部对该参数的修改，在函数退出后不再生效。

### 目前为止我不知道什么

- 什么时候变量共享同一个内存空间
- 什么时候出现这种情况：两个变量共享同一个内存空间，修改其中一个变量后，两个变量不再共享同一个内存空间
- 对象的别名是什么东西
- 什么时候进行浅复制、什么时候进行深复制
- Python 函数参数什么时候是以引用的形式传递，什么时候是以数值的形式传递
- Python 的垃圾回收机制是怎样的
- Python  del 命令的用法与原理是什么
- Python 处理不可修改对象的技巧

### 这一章的主要内容是什么

- 变量是标签，而非盒子
  - 赋值语句实际上是将一个名字绑定到一个对象上
  - 因此赋值前对象必须先存在，这样才能将一个名字绑定到它上面
